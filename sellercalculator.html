<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>ë°˜ì‘í˜• UI ë ˆì´ì•„ì›ƒ</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- jQuery ì¶”ê°€ -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!--math.js ì¶”ê°€-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.js"></script>

    
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 1em;
        }
        .layout-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            padding: 20px;
        }
        .content-box1 {
            flex: 1;
            min-width: 400px;
            max-width: 600px;
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
            border: 2px solid #ccc;
        }
        .content-box2 {
            flex: 1;
            min-width: 400px;
            max-width: 600px;
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
            border: 2px solid #ccc;
        }
        .table-container {
            width: 100%; /* ë¶€ëª¨ ìš”ì†Œì— ë§ì¶° ìë™ ì¡°ì • */
            max-width: 100%; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            border-collapse: collapse;
        }
        .table-container th, .table-container td {
            padding: 10px;
            text-align: left;
            font-size: 1em; /* ê¸°ë³¸ ê¸€ì í¬ê¸° */
        }
        .table-container th {
            background-color: #007bff;
            color: white;
        }
        .footer {
            background-color: #212529;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            border-top: 2px solid #ccc;
        }

        /* ë°˜ì‘í˜• ì½¤ë³´ë°•ìŠ¤ */
        select {
            width: 100%; /* ë¶€ëª¨ ìš”ì†Œì— ë§ê²Œ ìë™ ì¡°ì • */
            padding: 0.6em; /* ìƒëŒ€ì  í¬ê¸° ì¡°ì • */
            font-size: 1em; /* ê¸°ë³¸ í°íŠ¸ í¬ê¸° ìœ ì§€ */
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
            -webkit-appearance: auto; /* iOS ê¸°ë³¸ ìŠ¤íƒ€ì¼ ìœ ì§€ */
            -moz-appearance: auto; /* Firefox ê¸°ë³¸ ìŠ¤íƒ€ì¼ ìœ ì§€ */
            appearance: auto; /* ê¸°ë³¸ í™”ì‚´í‘œ ìœ ì§€ */
            background-color: white;
        }

        /* ì‘ì€ í™”ë©´ì—ì„œ ìë™ ì¡°ì • */
        @media (max-width: 768px) {
            select {
                width: 100%; /* ì‘ì€ í™”ë©´ì—ì„œëŠ” ì „ì²´ ë„ˆë¹„ */
                padding: 0.6em; /* ë” ì‘ì€ íŒ¨ë”© ì ìš© */
                font-size: 0.9em; /* ì‘ì€ í™”ë©´ì—ì„œëŠ” í°íŠ¸ í¬ê¸° ì¤„ì´ê¸° */
            }
        }
        
            /* ë°˜ì‘í˜• ìˆ«ì ì…ë ¥ì°½ */
        input {
            width: 100%; /* ë¶€ëª¨ ìš”ì†Œì— ë§ê²Œ ìë™ ì¡°ì • */
            padding: 0.6em; /* ìƒëŒ€ì ì¸ í¬ê¸° ì¡°ì • */
            font-size: 1em; /* ê¸°ë³¸ í°íŠ¸ í¬ê¸° */
            border: 1px solid #ccc;
            border-radius: 5px;
            text-align: center;
            background-color: white;
            outline: none;
        }

        /* í¬ì»¤ìŠ¤ ì‹œ (í´ë¦­í–ˆì„ ë•Œ) ìŠ¤íƒ€ì¼ ë³€ê²½ */
        input:focus {
            border-color: #007bff;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
        }

        .disabled-input {
            color: blue; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒì„ íŒŒë€ìƒ‰ìœ¼ë¡œ */
            background-color: #f5f9d1; /* ì—°í•œ íŒŒë€ìƒ‰ ë°°ê²½ */
            /* border: 1px solid #f1f981; /* í…Œë‘ë¦¬ íŒŒë€ìƒ‰ */
            opacity: 1; /* ê¸°ë³¸ì ìœ¼ë¡œ íë ¤ì§€ëŠ”ë°, ì´ê±¸ ë°©ì§€ */
        }

        /* ì‘ì€ í™”ë©´ì—ì„œ ìë™ ì¡°ì • */
        @media (max-width: 768px) {
            input {
                padding: 0.5em; /* ë‚´ë¶€ ì—¬ë°± ì¡°ì • */
                font-size: 0.9em; /* ì‘ì€ í™”ë©´ì—ì„œëŠ” í°íŠ¸ í¬ê¸° ì¤„ì´ê¸° */
            }
        }

        /* ì‘ì€ í™”ë©´ì—ì„œ ìë™ ì¡°ì • */
        @media (max-width: 768px) {
            body {
                font-size: 0.9em; /* ëª¨ë°”ì¼ì—ì„œ ì „ì²´ ê¸€ì í¬ê¸° ì¤„ì´ê¸° */
            }

            .table-container th, .table-container td {
                padding: 6px; /* ëª¨ë°”ì¼ì—ì„œ íŒ¨ë”© ì¤„ì´ê¸° */
                font-size: 0.85em; /* ëª¨ë°”ì¼ì—ì„œ ê¸€ì í¬ê¸° ì¤„ì´ê¸° */
            }
        }

        /* ë§¤ìš° ì‘ì€ í™”ë©´ (ì˜ˆ: 480px ì´í•˜) */
        @media (max-width: 480px) {
            body {
                font-size: 0.8em; /* ì „ì²´ ê¸€ì ë” ì¤„ì´ê¸° */
            }

            .table-container th, .table-container td {
                font-size: 0.75em; /* í…Œì´ë¸” ê¸€ì ë” ì‘ê²Œ ì¡°ì • */
                padding: 4px; /* íŒ¨ë”© ìµœì†Œí™” */
            }
        }
</style>

<!--ê³„ì‚° script ì‹œì‘!-->
<script>

    //  ë°°ì—´ë³€ìˆ˜ì„ ì–¸
    let sArray = new Array(2); // ê¸¸ì´ê°€ 2ì¸ ë§¤ì¶œ ë°°ì—´
    let bArray = new Array(5); // ê¸¸ì´ê°€ 5ì¸ ë§¤ì… ë°°ì—´
    let cArray = new Array(7); // ê¸¸ì´ê°€ 7ì¸ ìˆ˜ìˆ˜ë£Œ ë°°ì—´
    let tArray = new Array(2); // ê¸¸ì´ê°€ 2ì¸ ì„¸ê¸ˆ ë°°ì—´
    let midCArray = new Array(4); // ê¸¸ì´ê°€ 4ì¸ ì¤‘ê°„ê³„ì‚° ë°°ì—´
    let resultArray = new Array(3);  //  ê¸¸ì´ê°€ 3ì¸ ê²°ê³¼ê°’ë‹´ëŠ” ë°°ì—´
    let marRArray = new Array(3);  //  ê¸¸ì´ê°€ 3ì¸ ë§ˆì§„ì—­ì‚° ê²°ê³¼ê°’ë‹´ëŠ” ë°°ì—´
    
    // ë§¤ì¶œë³€ìˆ˜ì„ ì–¸
    let sale1 = 0;  //  íŒë§¤ê°€ê²©
    let sale2 = 0;  //  ë°°ì†¡ë¹„

    // ë§¤ì…ë³€ìˆ˜ì„ ì–¸
    let buy1 = 0;  //  ë§¤ì…ê°€ê²©
    let buy2 = 0;  //  ë§¤ì…ìš´ì†¡ë¹„
    let buy3 = 0;  //  ê¸°íƒ€(í¬ì¥ë¹„, ì‚¬ì€í’ˆ ë“±ë“±..)
    let buy4 = 0;  //  ìš´ì„ë¹„(íƒë°°ë¹„ìš©)
    let buy5 = 0;  //  ê´‘ê³ ë¹„(ë§ˆì¼€íŒ…)

    // ìˆ˜ìˆ˜ë£Œë³€ìˆ˜ì„ ì–¸
    let rateStore = 0; //  íŒë§¤í”Œë˜í¼(ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´1, ì¿ íŒ¡2, 11ë²ˆê°€3, ì§€ë§ˆì¼“4,ì˜¥ì…˜5, ì¸í„°íŒŒí¬6, ê¸°íƒ€ë§ˆì¼“7)
    let rate1 = 0;  //  ì¹´í…Œê³ ë¦¬ ìˆ˜ìˆ˜ë£Œìœ¨    
    let rate2 = 0;  //  ì—°ë™ìˆ˜ìˆ˜ë£Œìœ¨
    let rate3 = 0;  //  ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œìœ¨
    let rate1_1 = 0;  //  ì¹´í…Œê³ ë¦¬ ìˆ˜ìˆ˜ë£Œ
    let rate2_1 = 0;  //  ì—°ë™ìˆ˜ìˆ˜ë£Œ    
    let rate3_1 = 0;  //  ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ

    // ë¶€ê°€ì„¸ë³€ìˆ˜ì„ ì–¸
    let taxName = 0;  //  ë¶€ê³¼ì„¸ìœ í˜•(ì¼ë°˜ê³¼ì„¸ì1, ê°„ì´ê³¼ì„¸ì10)
    let tax1 = 0;  //  ë¶€ê³¼ì„¸ìœ¨

    //  ì¤‘ê°„ê²°ê³¼ ê³„ì‚°ë³€ìˆ˜ì„ ì–¸
    let mCal1 = 0;  //  ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì¶œì´í•©:íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)
    let mCal2 = 0;  //  ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì…ì´í•©)
    let mCal3 = 0;  //  ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì¶œ-ë§¤ì…-ìˆ˜ìˆ˜ë£Œ)
    let mCal4 = 0;  //  ë¶€ê³¼ì„¸=ë¶€ê°€ì„¸í¬í•¨(ë§¤ì¶œ-ë§¤ì…-ìˆ˜ìˆ˜ë£Œ)*(100+ë¶€ê³¼ì„¸ìœ¨)/100 ex) ë¶€ê³¼ì„¸10%ë©´ 10/110ì„ ê³±í•œë‹¤.  ë¶€ê³¼ì„¸ 3%ë©´ 3/103 ë¶€ê³¼ì„¸ 1%ë©´ 1/101

    // ê²°ê³¼ë³€ìˆ˜ì„ ì–¸
    let result1 = 0;  //  ì •ì‚°ê¸ˆì•¡=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)
    let result2 = 0;  //  ìˆœì´ìµ=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ë§¤ì…ê°€ê²©+ë§¤ì…ìš´ì†¡ë¹„+ê¸°íƒ€+ìš´ì„ë¹„+ê´‘ê³ ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)-(ë¶€ê°€ì„¸)
    let result3 = 0;  //  ë§ˆì§„ìœ¨=ìˆœì´ìµ/(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)*100
    

    //  ë§ˆì§„ì—­ì‚° ë³€ìˆ˜ì„ ì–¸
    //  ì „ì²´ ë³€ìˆ˜ ë° ì¤‘ê°„ê°’ë“¤ì´ ì¡´ì¬í•´ì•¼í•œë‹¤ëŠ” ì „ì œê°€ í•„ìš”!!!
    //  ë§Œì•½ ë§ˆì§„ìœ¨ì´ ë°”ë€ë‹¤ë©´ íŒë§¤ê°€ê²©ì„ ì œì™¸í•œ í˜„ì¬ ì…ë ¥ê°’ë“¤ì„ ìƒìˆ˜ë¡œ ë‘ê³ , í•´ë‹¹ íŒë§¤ê°€ê²©ì„ êµ¬í•´ì•¼í•¨.
    //  mChangeSale1, mChangeSale2ë¥¼ êµ¬í•´ì•¼í•¨.
    //  mChangeSale1_1 ê³¼ ë¶„ëª¨ mChangeSale1_2ë¥¼ êµ¬í•´ì„œ ìµœì¢…ì ìœ¼ë¡œ mChangeSale1ë¥¼ êµ¬í•˜ëŠ” ë°©ë²•ì´ë‹¤.
    let mChangeSale1_1 = 0;
    let mChangeSale1_2 = 0;
    let mChangeSale1 = 0;



    window.onload = function() {
        //  alert(result1+result2); // ì•Œë¦¼ í‘œì‹œ
    };


    function ComboFeesUpdate() {
        let sm11 = document.getElementById('sm11').value;
        
        // í”Œë«í¼ë³„ ìˆ˜ìˆ˜ë£Œ ë§¤í•‘
        const fees = {
            "1": { category: 3.63, link: 2, shipping: 3.63 },  // ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´
            "2": { category: 11.88, link: 0, shipping: 3.3 },  // ì¿ íŒ¡
            "3": { category: 13, link: 2, shipping: 3.3 },     // 11ë²ˆê°€
            "4": { category: 13, link: 2, shipping: 3.3 },     // ì§€ë§ˆì¼“
            "5": { category: 13, link: 2, shipping: 3.3 },     // ì˜¥ì…˜
            "6": { category: 13, link: 2, shipping: 3.3 },     // ì¸í„°íŒŒí¬
            "7": { category: 11, link: 2, shipping: 3.3 },     // ê¸°íƒ€ ë§ˆì¼“
        };

        if (sm11 in fees) {
            document.getElementById('sm12').value = fees[sm11].category;
            document.getElementById('sm13').value = fees[sm11].link;
            document.getElementById('sm14').value = fees[sm11].shipping;
            
        } else {
            document.getElementById('sm12').innerText = "";
            document.getElementById('sm13').innerText = "";
            document.getElementById('sm14').innerText = "";
            
        }

        reCheckValue();

    }

    function ComboTaxUpdate() {
        let sm15 = document.getElementById('sm15').value;
        
        // í”Œë«í¼ë³„ ìˆ˜ìˆ˜ë£Œ ë§¤í•‘
        const taxs = {
            "1": { tax: 10, rate: 0.0909},  // ì¼ë°˜ê³¼ì„¸ì10%
            "2": { tax: 1, rate: 0.01},  // ê°„ì´ê³¼ì„¸ì ë§¤ì¶œ1%
        };

        if (sm15 in taxs) {
            document.getElementById('sm16').value = taxs[sm15].tax;
        } else {
            document.getElementById('sm16').value = "";
        }

        reCheckValue();
    }

    //  ì „ì—­ë³€ìˆ˜ì— ë°ì´í„° ë‹¤ì‹œ ì…ë ¥
    function reCheckValue(){
        console.log("reCheckValue()");

        // ê²°ê³¼ë³€ìˆ˜
        result1 = Number(document.getElementById("sm"+1).value);  //  ì •ì‚°ê¸ˆì•¡=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)
        result2 = Number(document.getElementById("sm"+2).value);  //  ìˆœì´ìµ=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ë§¤ì…ê°€ê²©+ë§¤ì…ìš´ì†¡ë¹„+ê¸°íƒ€+ìš´ì„ë¹„+ê´‘ê³ ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)-(ë¶€ê°€ì„¸)
        result3 = Number(document.getElementById("sm"+3).value);  //  ë§ˆì§„ìœ¨=ì¼ë°˜ê³¼ì„¸ìˆœì´ìµ/(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)*100
                
        // ë§¤ì¶œë³€ìˆ˜
        sale1 = Number(document.getElementById("sm"+4).value);  //  íŒë§¤ê°€ê²©
        sale2 = Number(document.getElementById("sm"+5).value);  //  ë°°ì†¡ë¹„

        // ë§¤ì…ë³€ìˆ˜
        buy1 = Number(document.getElementById("sm"+6).value);  //  ë§¤ì…ê°€ê²©
        buy2 = Number(document.getElementById("sm"+7).value);  //  ë§¤ì…ìš´ì†¡ë¹„
        buy3 = Number(document.getElementById("sm"+8).value);  //  ê¸°íƒ€(í¬ì¥ë¹„, ì‚¬ì€í’ˆ ë“±ë“±..)
        buy4 = Number(document.getElementById("sm"+9).value);  //  ìš´ì„ë¹„(íƒë°°ë¹„ìš©)
        buy5 = Number(document.getElementById("sm"+10).value);  //  ê´‘ê³ ë¹„(ë§ˆì¼€íŒ…)

        // ìˆ˜ìˆ˜ë£Œë³€ìˆ˜
        rateStore = Number(document.getElementById("sm"+11).value);  //  íŒë§¤í”Œë˜í¼(ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´1, ì¿ íŒ¡2, 11ë²ˆê°€3, ì§€ë§ˆì¼“4,ì˜¥ì…˜5, ì¸í„°íŒŒí¬6, ê¸°íƒ€ë§ˆì¼“7)
        rate1 = Number(document.getElementById("sm"+12).value);  //  ì¹´í…Œê³ ë¦¬ ìˆ˜ìˆ˜ë£Œìœ¨
        rate2 = Number(document.getElementById("sm"+13).value);  //  ì—°ë™ìˆ˜ìˆ˜ë£Œìœ¨
        rate3 = Number(document.getElementById("sm"+14).value);  //  ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œìœ¨

        //  ë¶€ê°€ì„¸ë³€ìˆ˜                
        taxName = Number(document.getElementById("sm"+15).value);  //  ë¶€ê³¼ì„¸ìœ í˜•(ì¼ë°˜ê³¼ì„¸ì1, ê°„ì´ê³¼ì„¸ì10)
        tax1 = Number(document.getElementById("sm"+16).value);  //  ë¶€ê³¼ì„¸ìœ¨

        console.log("sale1:" + sale1);
        console.log("sale2:" + sale2);
        console.log("buy1:" + buy1);
        console.log("buy2:" + buy2);
        console.log("buy3:" + buy3);
        console.log("buy4:" + buy4);
        console.log("buy5:" + buy5);
        console.log("rateStore:" + rateStore);
        console.log("rate1:" + rate1);
        console.log("rate2:" + rate2);
        console.log("rate3:" + rate3);
        console.log("taxName:" + taxName);
        console.log("tax1:" + tax1);
        
        //  í˜„ì¬ value ê¸°ì¤€ ë‹¤ì‹œ ê³„ì‚°
        calculateTotal();
    }

    //  ì „ì—­ë³€ìˆ˜ë“¤ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°
    function calculateTotal(){

        console.log("calculateTotal()ì‹œì‘!");

        //  ì¤‘ê°„ê³„ì‚°ë³€ìˆ˜
        mCal1 = sale1+sale2;  // ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì¶œì´í•©:íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)
        mCal2 = buy1+buy2+buy3+buy4+buy5  // ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì…ì´í•©)
        rate1_1 = sale1*rate1/100;  //  ì¹´í…Œê³ ë¦¬ ìˆ˜ìˆ˜ë£Œ
        rate2_1 = sale1*rate2/100;  //  ì—°ë™ìˆ˜ìˆ˜ë£Œ
        rate3_1 = sale2*rate3/100;  //  ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ
        mCal3 = mCal1-mCal2-(rate1_1+rate2_1+rate3_1)  // ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì¶œ-ë§¤ì…-ìˆ˜ìˆ˜ë£Œ)
        mCal4 = mCal3*tax1/(100+tax1);  //  ë¶€ê³¼ì„¸=ë¶€ê°€ì„¸í¬í•¨(ë§¤ì¶œ-ë§¤ì…-ìˆ˜ìˆ˜ë£Œ)*(100+ë¶€ê³¼ì„¸ìœ¨)/100 ex) ë¶€ê³¼ì„¸10%ë©´ 10/110ì„ ê³±í•œë‹¤.  ë¶€ê³¼ì„¸ 3%ë©´ 3/103 ë¶€ê³¼ì„¸ 1%ë©´ 1/101

        // ê²°ê³¼ë³€ìˆ˜
        result1 = mCal1-(rate1_1+rate2_1+rate3_1);  //  ì •ì‚°ê¸ˆì•¡=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)
        result2 = mCal1-mCal2-(rate1_1+rate2_1+rate3_1)-mCal4 //  ìˆœì´ìµ=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ë§¤ì…ê°€ê²©+ë§¤ì…ìš´ì†¡ë¹„+ê¸°íƒ€+ìš´ì„ë¹„+ê´‘ê³ ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)-(ë¶€ê°€ì„¸)
        result3 = (result2/mCal1)*100;  //  ë§ˆì§„ìœ¨=ìˆœì´ìµ/(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)*100     

        console.log("calculateTotal()ì¢…ë£Œ result3:" + result3);
        inputArray();
    }

    //  ê³„ì‚°ì‘ì—… í›„ ë°°ì—´ì— ì§‘ì–´ë„£ê¸°
    function inputArray(){

        console.log("inputArray()");
        
        // ê¸¸ì´ê°€ 2ì¸ ë§¤ì¶œ ë°°ì—´ì— ë‹´ê¸°
        // ë§¤ì¶œë³€ìˆ˜: sale1 íŒë§¤ê°€ê²©, sale2 ë°°ì†¡ë¹„
        sArray[0] = sale1;
        sArray[1] = sale2;

        // ê¸¸ì´ê°€ 5ì¸ ë§¤ì… ë°°ì—´ì— ë‹´ê¸°
        //  ë§¤ì…ë³€ìˆ˜: buy1 ë§¤ì…ê°€ê²©, buy2 ë§¤ì…ìš´ì†¡ë¹„, buy3 ê¸°íƒ€, buy4 ìš´ì„ë¹„(íƒë°°ë¹„ìš©), buy5 ê´‘ê³ ë¹„(ë§ˆì¼€íŒ…)
        bArray[0] = buy1;
        bArray[1] = buy2;
        bArray[2] = buy3;
        bArray[3] = buy4;
        bArray[4] = buy5;
        
        // ê¸¸ì´ê°€ 7ì¸ ìˆ˜ìˆ˜ë£Œ ë°°ì—´ì— ë‹´ê¸°
        //  ìˆ˜ìˆ˜ë£Œë³€ìˆ˜: rateStore íŒë§¤í”Œë˜í¼(ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´1, ì¿ íŒ¡2, 11ë²ˆê°€3, ì§€ë§ˆì¼“4,ì˜¥ì…˜5, ì¸í„°íŒŒí¬6, ê¸°íƒ€ë§ˆì¼“7), 
        //  rate1 ì¹´í…Œê³ ë¦¬ ìˆ˜ìˆ˜ë£Œìœ¨, rate2 ì—°ë™ìˆ˜ìˆ˜ë£Œìœ¨, rate3 ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œìœ¨, rate1_1 ì¹´í…Œê³ ë¦¬ ìˆ˜ìˆ˜ë£Œ, rate2_1 ì—°ë™ìˆ˜ìˆ˜ë£Œ, rate3_1 ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ 
        cArray[0] = rateStore;
        cArray[1] = rate1;
        cArray[2] = rate2;
        cArray[3] = rate3;
        cArray[4] = rate1_1;
        cArray[5] = rate2_1;
        cArray[6] = rate3_1;
        
        //  ê¸¸ì´ê°€ 2ì¸ ë¶€ê°€ì„¸ ë°°ì—´ì— ë‹´ê¸°
        //  taxName ë¶€ê³¼ì„¸ìœ í˜•(ì¼ë°˜ê³¼ì„¸ì1, ê°„ì´ê³¼ì„¸ì10), tax1 ë¶€ê³¼ì„¸ìœ¨
        tArray[0] = taxName;
        tArray[1] = tax1;

        //  ê¸¸ì´ê°€ 4ì¸ ì¤‘ê°„ê³„ì‚° ë°°ì—´ì— ë‹´ê¸°
        //  ì¤‘ê°„ê³„ì‚°ë³€ìˆ˜: mCal1 ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì¶œì´í•©:íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„), mCal2 ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì…ì´í•©), rate1_1 ì¹´í…Œê³ ë¦¬ ìˆ˜ìˆ˜ë£Œ, rate2_1 ì—°ë™ìˆ˜ìˆ˜ë£Œ
        //  rate3_1 ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ, mCal3 ë¶€ê°€ì„¸í¬í•¨ (ë§¤ì¶œ-ë§¤ì…-ìˆ˜ìˆ˜ë£Œ), 
        //  mCal4 ê³¼ì„¸ìë¶€ê³¼ì„¸=ë¶€ê°€ì„¸í¬í•¨(ë§¤ì¶œ-ë§¤ì…-ìˆ˜ìˆ˜ë£Œ)*(100+ë¶€ê³¼ì„¸ìœ¨)/100 ex) ë¶€ê³¼ì„¸10%ë©´ 10/110ì„ ê³±í•œë‹¤.  ë¶€ê³¼ì„¸ 3%ë©´ 3/103 ë¶€ê³¼ì„¸ 1%ë©´ 1/101
        midCArray[0] = mCal1;
        midCArray[1] = mCal2;
        midCArray[2] = mCal3;
        midCArray[3] = mCal4;
        

        //  ê¸¸ì´ê°€ 3ì¸ ê²°ê³¼ê°’ë‹´ëŠ” ë°°ì—´ì— ë‹´ê¸°
        //  ê²°ê³¼ë³€ìˆ˜: result1 ì •ì‚°ê¸ˆì•¡=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)
        //  result2 ìˆœì´ìµ=(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)-(ë§¤ì…ê°€ê²©+ë§¤ì…ìš´ì†¡ë¹„+ê¸°íƒ€+ìš´ì„ë¹„+ê´‘ê³ ë¹„)-(ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ+ì—°ë™ìˆ˜ìˆ˜ë£Œ+ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ)-(ë¶€ê°€ì„¸)
        //  result3 ë§ˆì§„ìœ¨=ì¼ë°˜ê³¼ì„¸ìˆœì´ìµ/(íŒë§¤ê°€ê²©+ë°°ì†¡ë¹„)*100
        resultArray[0] = result1; 
        resultArray[1] = result2;
        resultArray[2] = result3;

        
        
        console.log("inputArray()ì¢…ë£Œ resultArray[2]:" + resultArray[2]);
        printArray();

    }


    //  ì‘ì—… í›„ ë°°ì—´ì—ì„œ êº¼ë‚´ì„œ UIí™”ë©´ì— ë¿Œë¦¬ê¸°
    function printArray(){

        console.log("printArray()");
        
        //  ê²°ê³¼ë°°ì—´ì´ìš© ê²°ê³¼ì˜ì—­ í”„ë¦°íŠ¸
        for (let i = 0; i < 3; i++) { // 0ë¶€í„° 2ê¹Œì§€ ë°˜ë³µ

            if (resultArray[i] !== "") {             

                if(i === 2){
                    document.getElementById("sm" + (i + 1)).value = roundToDecimal(resultArray[i], 2);
                }else{
                    document.getElementById("sm" + (i + 1)).innerText = Math.round(resultArray[i]);
                }

            } else {

                if(i === 2){              
                    document.getElementById("sm" + (i + 1)).value = ""; // ë¹ˆ ê°’ ì²˜ë¦¬
                }else{
                    document.getElementById("sm" + (i + 1)).innerText = ""; // ë¹ˆ ê°’ ì²˜ë¦¬
                }
                
            }

        }

        //  ë§¤ì¶œë°°ì—´ì´ìš© ë§¤ì¶œì˜ì—­ í”„ë¦°íŠ¸
        for (let i = 0; i < 2; i++) { // 0ë¶€í„° 1ê¹Œì§€ ë°˜ë³µ

            if (sArray[i] !== "") {
                document.getElementById("sm" + (i + 4) + "_desc").innerText = Math.ceil(sArray[i]);
            } else {
                document.getElementById("sm" + (i + 4) + "_desc").innerText = ""; // ë¹ˆ ê°’ ì²˜ë¦¬
            } 
            
        }

        //  ë§¤ì…ë°°ì—´ì´ìš© ë§¤ì…ì˜ì—­ í”„ë¦°íŠ¸
        for (let i = 0; i < 5; i++) { // 0ë¶€í„° 4ê¹Œì§€ ë°˜ë³µ

            if (bArray[i] !== "") {
                document.getElementById("sm" + (i + 6) + "_desc").innerText = CeilReverseValue(bArray[i]);
            } else {
                document.getElementById("sm" + (i + 6) + "_desc").innerText = ""; // ë¹ˆ ê°’ ì²˜ë¦¬
            }
            
        }

        //  ìˆ˜ìˆ˜ë£Œë°°ì—´ì´ìš© ìˆ˜ìˆ˜ë£Œì˜ì—­ í”„ë¦°íŠ¸
        for (let i = 0; i < 3; i++) { // 0ë¶€í„° 2ê¹Œì§€ ë°˜ë³µ

            if (cArray[i] !== "") {
                document.getElementById("sm" + (i +12) + "_desc").innerText = CeilReverseValue(cArray[i+4]);
            } else {
                document.getElementById("sm" + (i +12) + "_desc").innerText = ""; // ë¹ˆ ê°’ ì²˜ë¦¬
            }
            
        }

        //  ë¶€ê°€ì„¸í”„ë¦°íŠ¸
        if (mCal4 !== "") {
            
            document.getElementById("sm16_desc").innerText = CeilReverseValue(mCal4);
                        
        } else {
            document.getElementById("sm16_desc").innerText = ""; // ë¹ˆ ê°’ ì²˜ë¦¬
        }
        
        console.log("printArray()ì¢…ë£Œ sm16_desc.innerText:" + document.getElementById("sm16_desc").innerText);
    }

    
    //  ê²°ê³¼ì˜ì—­, ì†Œìˆ˜ì  2ìë¦¬ê¹Œì§€ í‘œì‹œ
    function roundToDecimal(num, decimalPlaces) {
        let factor = Math.pow(10, decimalPlaces);
        return Math.round(num * factor) / factor;
    }

    //  ë§¤ì…, ìˆ˜ìˆ˜ë£Œ, ë¶€ê°€ì„¸ ì˜¬ë¦¼í›„ ìŒìˆ˜í‘œì‹œ ìœ„í•œ í•¨ìˆ˜
    function CeilReverseValue(value){

        if (value > 0) {
            return Math.round(value)*-1; // ì–‘ìˆ˜ì´ë©´ '-' ê³±í•´ì„œ ì¶œë ¥

        } else if (value < 0) {                
            return Math.round(value)*-1; // ìŒìˆ˜ì´ë©´ ê·¸ëŒ€ë¡œ ì¶œë ¥
        } else {                
            return value; // 0ì´ë©´ ê·¸ëŒ€ë¡œ ì¶œë ¥
        }
    }


    //  ì•ŒëŒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ìš©
    window.onload = function() {
        document.getElementById("alertButton").addEventListener("click", function() {
                reCheckMRValue();
                //alert("ì´ê²ƒì€ ì•Œë¦¼ì°½ì…ë‹ˆë‹¤!");
                console.log("marRArray[0]:"+marRArray[0]);
                console.log("marRArray[1]:"+marRArray[1]);
                console.log("marRArray[2]:"+marRArray[2]);

            });
    };


    //  ë§ˆì§„ìœ¨ë³€ê²½ì‹œ ì—­ìœ¼ë¡œ íŒë§¤ê¸ˆì•¡ ê³„ì‚°í•˜ëŠ” ë°©ì‹
    function reCheckMRValue(){

    //     console.log("ğŸ”¹ reCheckMRValue() ì‹¤í–‰!");

    //     reCheckValue(); // í˜„ì¬ ì…ë ¥ëœ ê°’ ë°˜ì˜

    //     // 1ï¸âƒ£ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ìƒˆë¡œìš´ ë§ˆì§„ìœ¨ (ì˜ˆ: í˜„ì¬ ë§ˆì§„ìœ¨ +5%)
    //     let result3_new = 70;
    //     let sale1_new = 0;
        
    //     //  ë‚´ê°€ ì œëŒ€ë¡œ êµ¬í•œ ê³µì‹
    //     //  result3_new = (((sale1_new+sale2)-mCal2-((sale1_new*rate1/100)+(sale1_new*rate2/100)+rate3_1)-(((sale1_new+sale2)-mCal2-((sale1_new*rate1/100)+(sale1_new*rate2/100)+rate3_1))*tax1/(100+tax1))/(sale1_new+sale2))*100
    //     //  ìœ„ ê³µì‹œì„ ì´ìš© gptê°€ ì•Œë ¤ì¤€ ê²ƒ
        


    //
    }
    
</script>

<!--ê³„ì‚° script ì¢…ë£Œ!-->

</head>
<body>
    <div class="container-fluid p-0">
        <div class="banner text-center bg-primary text-white py-3">ìƒë‹¨ ë°°ë„ˆ</div>
        <div class="menu-bar d-flex align-items-center bg-dark text-white p-3">
            <div class="logo bg-danger text-white px-3 py-2 fw-bold">ë¡œê³ </div>
            <div class="menu-text text-center flex-grow-1">ìƒë‹¨ ë©”ë‰´ë°”</div>
        </div>
        
        <div class="layout-container">
            <!-- ë³¸ë¬¸1 (ê³„ì‚°ì˜ì—­) -->
            <div class="content-box1">
                <h4>ê³„ì‚° ì˜ì—­</h4>
                <table class="table-container">
                    <thead>
                        <tr>
                            <th>í•­ëª©</th>
                            <th>ê°’</th>
                            <th>ë‹¨ìœ„</th>
                            <th>ì„¤ëª…</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td colspan="4"><b>ê²°ê³¼ì˜ì—­</b></td></tr>
                        <tr><td>ì •ì‚°ê¸ˆì•¡</td><td style="text-align:center" id='sm1'></td><td>ì›</td><td id="sm1_desc"></td></tr>
                        <tr><td>ìˆœì´ìµ</td><td style="text-align:center" id='sm2'></td><td>ì›</td><td id="sm2_desc"></td></tr>
                        <tr><td>ë§ˆì§„ìœ¨</td><td><input type="number" id="sm3" oninput="reCheckMRValue()" disabled class="disabled-input"></td><td>%</td><td id="sm3_desc"></td></tr>
                        
                        <tr><td colspan="4"><b>ë§¤ì¶œ</b></td></tr>
                        <tr><td>íŒë§¤ê°€ê²©</td><td><input type="number" id="sm4" oninput="reCheckValue()"></td><td>ì›</td><td id="sm4_desc"></td></tr>
                        <tr><td>ë°°ì†¡ë¹„</td><td><input type="number" id="sm5" oninput="reCheckValue()"></td><td>ì›</td><td id="sm5_desc"></td></tr>
                        
                        <tr><td colspan="4"><b>ë§¤ì…</b></td></tr>
                        <tr><td>ë§¤ì…ê°€ê²©</td><td><input type="number" id="sm6" oninput="reCheckValue()"></td><td>ì›</td><td id="sm6_desc"></td></tr>
                        <tr><td>ë§¤ì…ìš´ì†¡ë¹„</td><td><input type="number" id="sm7" oninput="reCheckValue()"></td><td>ì›</td><td id="sm7_desc"></td></tr>
                        <tr><td>ê¸°íƒ€(í¬ì¥ë¹„, ì‚¬ì€í’ˆ ë“±)</td><td><input type="number" id="sm8" oninput="reCheckValue()"></td><td>ì›</td><td id="sm8_desc"></td></tr>
                        <tr><td>ìš´ì„ë¹„(íƒë°°ë¹„ìš©)</td><td><input type="number" id="sm9" oninput="reCheckValue()"></td><td>ì›</td><td id="sm9_desc"></td></tr>
                        <tr><td>ê´‘ê³ ë¹„(ë§ˆì¼€íŒ…)</td><td><input type="number" id="sm10" oninput="reCheckValue()"></td><td>ì›</td><td id="sm10_desc"></td></tr>
                        
                        <tr><td colspan="4"><b>ìˆ˜ìˆ˜ë£Œ</b></td></tr>
                        <tr><td>í”Œë«í¼ ì„ íƒ</td>
                            <td>
                                <select id='sm11' onchange='ComboFeesUpdate()'>
                                    <option value="1" selected>ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´</option>
                                    <option value="2">ì¿ íŒ¡</option>
                                    <option value="3">11ë²ˆê°€</option>
                                    <option value="4">ì§€ë§ˆì¼“</option>
                                    <option value="5">ì˜¥ì…˜</option>
                                    <option value="6">ì¸í„°íŒŒí¬</option>
                                    <option value="7">ê¸°íƒ€ë§ˆì¼“</option>
                                </select>
                            </td>
                            <td></td><td></td>
                        </tr>
                        <tr><td>ì¹´í…Œê³ ë¦¬ìˆ˜ìˆ˜ë£Œ</td><td><input type="number" id="sm12" value="3.63" oninput="reCheckValue()"></td><td>%</td><td id="sm12_desc"></td></tr>
                        <tr><td>ì—°ë™ìˆ˜ìˆ˜ë£Œ</td><td><input type="number" id="sm13" value="2" oninput="reCheckValue()"></td><td>%</td><td id="sm13_desc"></td></tr>
                        <tr><td>ë°°ì†¡ë¹„ìˆ˜ìˆ˜ë£Œ</td><td><input type="number" id="sm14" value="3.63" oninput="reCheckValue()"></td><td>%</td><td id="sm14_desc"></td></tr>
                        
                        <tr><td colspan="4"><b>ë¶€ê°€ì„¸ ì„ íƒ</b></td></tr>
                        <tr><td>ë¶€ê°€ì„¸ ìœ í˜•</td>
                            <td>
                                <select id='sm15' onchange='ComboTaxUpdate()'>
                                    <option value="1" selected>ì¼ë°˜ê³¼ì„¸ì</option>
                                    <option value="2">ê°„ì´ê³¼ì„¸ì</option>
                                </select>
                            </td>
                            <td></td><td></td>
                        </tr>
                        <tr><td>ë¶€ê°€ì„¸ìœ¨</td><td><input type="number" id="sm16" value="10" oninput="reCheckValue()"></td><td>%</td><td id="sm16_desc"></td></tr>
                        
                    </tbody>
                </table>
            </div>
            
            <!-- ë³¸ë¬¸2 (ì¶”ê°€ ì •ë³´) -->
            <div class="content-box2">
                <h4>ì¶”ê°€ ì •ë³´</h4>
                <!--<button id="alertButton">ì•Œë¦¼ì°½ ë„ìš°ê¸°</button>-->
            </div>
        </div>
        
        <div class="footer">í•˜ë‹¨ ì •ë³´</div>
    </div>
</body>
</html>
